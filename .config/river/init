#!/bin/sh
riverctl map normal Super+Shift q exit
riverctl map normal Super Return spawn wezterm
# riverctl map normal Super r spawn 'exec "$(dmenu_path | skmenu)"'
riverctl map normal Super Escape spawn "rofi -show drun -modi drun -lines 10 -width 30"
riverctl map normal Super q close
riverctl map normal Super d close
riverctl map normal Super m focus-output next
riverctl map normal Super+Shift m spawn "riverctl send-to-output next && riverctl focus-output next"
riverctl map normal Super j focus-view next
riverctl map normal Super k focus-view previous
riverctl map normal Super+Shift j swap next
riverctl map normal Super+Shift k swap previous
# riverctl map normal Super j focus-view down
# riverctl map normal Super k focus-view up
# riverctl map normal Super h focus-view left
# riverctl map normal Super l focus-view right
# riverctl map normal Super+Shift j swap down
# riverctl map normal Super+Shift k swap up
# riverctl map normal Super+Shift h swap left
# riverctl map normal Super+Shift l swap right
riverctl map normal Super s send-layout-cmd rivertile "main-location right"
riverctl map normal Super w send-layout-cmd rivertile "main-location left"
riverctl map normal Super i send-layout-cmd rivertile "main-count +1"
riverctl map normal Super o send-layout-cmd rivertile "main-count -1"
riverctl map normal Super p spawn 'delegator -g'
riverctl map normal Super 1 set-focused-tags 1
riverctl map normal Super 2 set-focused-tags 2
riverctl map normal Super 3 set-focused-tags 4
riverctl map normal Super+Shift 1 set-view-tags 1
riverctl map normal Super+Shift 2 set-view-tags 2
riverctl map normal Super+Shift 3 set-view-tags 4

riverctl map-pointer normal Super BTN_LEFT move-view
riverctl map-pointer normal Super BTN_RIGHT resize-view
riverctl map-pointer normal Super BTN_MIDDLE toggle-float

riverctl border-color-focused 0xFF0000
# riverctl focus-follows-cursor always
# riverctl keyboard-layout -options compose:caps us
riverctl set-cursor-warp on-focus-change
# riverctl input 'pointer-4120-4102-HID_1018:1006_Touchpad' middle-emulation enabled
# riverctl input 'pointer-4120-4102-HID_1018:1006_Touchpad' tap enabled
# riverctl input 'pointer-4120-4102-HID_1018:1006_Touchpad' tap-button-map left-middle-right
# riverctl set-repeat 55 300

riverctl default-layout rivertile

# riverctl rule-add -title skmenu float
riverctl rule-add -title rofi float
# riverctl rule-add ssd

# riverctl spawn 'dbus-run-session pipewire'
# riverctl spawn 'swayidle timeout 300 waylock timeout 300 "wlopm --off \*" resume "wlopm --on \*"'
# riverctl spawn "wbg '$(find -L /data/pictures/background-source/ -type f | sort -R | head -1)'"
# riverctl spawn 'wlsunset -l 50.85 -L 4.35'
riverctl spawn "swayidle -w timeout 300 'swaylock -f -c 000000' before-sleep 'swaylock -f -c 000000'"
# swayidle -w timeout 300 'swaylock -f -c 000000' timeout 600 'swaymsg "output * power off"' resume 'swaymsg "output * power on"' before-sleep 'swaylock -f -c 000000'

rivertile -view-padding 0 -outer-padding 0 -main-ratio 0.7 &

# riverctl spawn "wlr-randr --output DP-1 --scale 1.5 --pos 1440,320"
# riverctl spawn "wlr-randr --output HDMI-A-1 --scale 1.5 --transform 90 --pos 0,0"
riverctl spawn "wlr-randr --output DP-1 --pos 2160,320"
riverctl spawn "wlr-randr --output HDMI-A-1 --transform 90 --pos 0,0"
